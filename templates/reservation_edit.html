{% extends 'base.html' %}

{% block header %}
  <h3>{% block title %}Reservierung 채ndern f체r {{ date.strftime("%a, den %d.%m.%Y") }}{% endblock %}</h3>
{% endblock %}


{% block content %}

{% if form.errors %}
<strong>Fehler bei der Eingabe:</strong></br>
{% for field, error in form.errors.items() %}
{{ error }} ({{ field }})</br>
{% endfor %}
</br>
{% endif %}

<form action="" method="POST">
    {{ form.hidden_tag() }}
    
    <div class="form-group">
        {{ form.reservation.label }}
        {{ form.reservation(class_="form-control", rows=4) }}
    </div>
    
    <div class="form-group">
        {{ form.free_beds.label }}
        {{ form.free_beds(class_="form-control") }}
    </div>
    
    <div class="form-group">
        {{ form.state.label }}
        {{ form.state(class_="form-control") }}
    </div>
      
    
   <button class="btn btn-primary" type="submit">speichern</button>
</form>

</br>
<h4>Infos zur Unterkunft</h4>
<table class="table">
  <tbody>
    <tr>
      <td>Name</td>
      <td>{{ sleeping_place.name }} ({{ sleeping_place.pronoun }})</td>
    </tr>
    <tr>
      <td>Addresse</td>
      <td>{{ sleeping_place.address }} <a href="https://www.google.com/maps/search/{{ sleeping_place.address }}" >(Google Maps)</a></td>
    </tr>
    <tr>
      <td>Schlafpl채tze ohne Isomatte</td>
      <td>{{ sleeping_place.sleeping_places_basic }}</td>
    </tr>
    <tr>
      <td>Schlafpl채tze mit Isomatte</td>
      <td>{{ sleeping_place.sleeping_places_luxury }}</td>
    </tr>
    <tr>
      <td>Zeitraum</td>
      {% if sleeping_place.date_from_june %}
        <td>{{ sleeping_place.date_from_june.strftime("%d.%m. (%a)") }}
      {% else %}
        <td>nicht angegeben
      {% endif %}
      bis
      {% if sleeping_place.date_to_june %}
        {{ sleeping_place.date_to_june.strftime("%d.%m. (%a)") }}
      {% else %}
        nicht angegeben</td>
      {% endif %}
      {% if sleeping_place.date_from_june and sleeping_place.date_to_june %} 
        - {{ (sleeping_place.date_to_june - sleeping_place.date_from_june).days }} Tage
      {% endif %}
      </td>
    </tr>

  </tbody>
</table>


{% endblock %}

